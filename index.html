<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetTag - NFC Hayvan Kimlik Sistemi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .pet-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .stat-card {
            background: linear-gradient(145deg, #f1f5f9 0%, #e2e8f0 100%);
        }
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }
        .btn-emergency {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .social-btn {
            transition: all 0.3s ease;
        }
        .social-btn:hover {
            transform: scale(1.1);
        }
        .location-dot {
            animation: bounce 1s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-full">
    <!-- Navigation -->
    <nav class="gradient-bg text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold">üêæ PetTag</span>
                </div>
                <div class="flex space-x-4">
                    <button onclick="showLogin()" class="hover:bg-white hover:bg-opacity-20 px-4 py-2 rounded-lg transition">Giri≈ü Yap</button>
                    <button onclick="showRegister()" class="bg-white text-purple-600 px-4 py-2 rounded-lg hover:bg-gray-100 transition">√úye Ol</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div id="mainContent" class="max-w-7xl mx-auto px-4 py-8">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gray-800 mb-4">NFC Hayvan Kimlik Sistemi</h1>
            <p class="text-xl text-gray-600 mb-8">Sevimli dostunuzun g√ºvenliƒüi i√ßin akƒ±llƒ± √ß√∂z√ºm</p>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="text-4xl mb-4">üì±</div>
                    <h3 class="text-xl font-semibold mb-2">NFC Teknolojisi</h3>
                    <p class="text-gray-600">Telefon ile dokunarak anƒ±nda profil g√∂r√ºnt√ºleme</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="text-4xl mb-4">üìç</div>
                    <h3 class="text-xl font-semibold mb-2">Konum Takibi</h3>
                    <p class="text-gray-600">Hayvanƒ±nƒ±zƒ± bulan ki≈üilerin konumunu g√∂r√ºn</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <div class="text-4xl mb-4">üìä</div>
                    <h3 class="text-xl font-semibold mb-2">ƒ∞statistikler</h3>
                    <p class="text-gray-600">Profil g√∂r√ºnt√ºleme ve arama istatistikleri</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white p-8 rounded-xl max-w-md w-full mx-4">
            <h2 class="text-2xl font-bold mb-6 text-center">Giri≈ü Yap</h2>
            <form onsubmit="login(event)">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">E-posta</label>
                    <input type="email" id="loginEmail" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">≈ûifre</label>
                    <input type="password" id="loginPassword" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <button type="submit" class="w-full btn-primary text-white py-2 rounded-lg font-semibold">Giri≈ü Yap</button>
            </form>
            <button onclick="hideLogin()" class="w-full mt-4 text-gray-500 hover:text-gray-700">ƒ∞ptal</button>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white p-8 rounded-xl max-w-md w-full mx-4">
            <h2 class="text-2xl font-bold mb-6 text-center">√úye Ol</h2>
            <form onsubmit="register(event)">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Ad Soyad</label>
                    <input type="text" id="registerName" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">E-posta</label>
                    <input type="email" id="registerEmail" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Telefon</label>
                    <input type="tel" id="registerPhone" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">≈ûifre</label>
                    <input type="password" id="registerPassword" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                </div>
                <button type="submit" class="w-full btn-primary text-white py-2 rounded-lg font-semibold">√úye Ol</button>
            </form>
            <button onclick="hideRegister()" class="w-full mt-4 text-gray-500 hover:text-gray-700">ƒ∞ptal</button>
        </div>
    </div>

    <!-- Dashboard (Hidden initially) -->
    <div id="dashboard" class="hidden max-w-7xl mx-auto px-4 py-8">
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800">Kontrol Paneli</h1>
            <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">√áƒ±kƒ±≈ü Yap</button>
        </div>

        <!-- Add Pet Button -->
        <div class="mb-8">
            <button onclick="showAddPet()" class="btn-primary text-white px-6 py-3 rounded-lg font-semibold">+ Yeni Hayvan Ekle</button>
        </div>

        <!-- Pets List -->
        <div id="petsList" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <!-- Pets will be loaded here -->
        </div>
    </div>

    <!-- Add Custom Button Modal -->
    <div id="addCustomButtonModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white p-6 rounded-xl max-w-md w-full mx-4">
            <h2 class="text-xl font-bold mb-4 text-center">√ñzel Buton Ekle</h2>
            <form onsubmit="addCustomButton(event)">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Buton Adƒ±</label>
                    <input type="text" id="customButtonName" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="√ñrn: Veteriner Ara" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ƒ∞kon (Emoji)</label>
                    <input type="text" id="customButtonIcon" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="üè•" maxlength="2">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Buton Tipi</label>
                    <select id="customButtonType" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" onchange="toggleCustomButtonFields()" required>
                        <option value="">Se√ßiniz</option>
                        <option value="phone">Telefon Numarasƒ±</option>
                        <option value="url">Website/Link</option>
                        <option value="email">E-posta</option>
                        <option value="whatsapp">WhatsApp</option>
                        <option value="address">Adres/Konum</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" id="customButtonValueLabel">Deƒüer</label>
                    <input type="text" id="customButtonValue" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Renk</label>
                    <select id="customButtonColor" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                        <option value="blue">Mavi</option>
                        <option value="green">Ye≈üil</option>
                        <option value="red">Kƒ±rmƒ±zƒ±</option>
                        <option value="purple">Mor</option>
                        <option value="orange">Turuncu</option>
                        <option value="gray">Gri</option>
                    </select>
                </div>
                <div class="flex gap-3">
                    <button type="submit" class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition">Ekle</button>
                    <button type="button" onclick="hideAddCustomButton()" class="flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition">ƒ∞ptal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Pet Modal -->
    <div id="addPetModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white p-8 rounded-xl max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
            <h2 class="text-2xl font-bold mb-6 text-center">Yeni Hayvan Ekle</h2>
            <form onsubmit="addPet(event)">
                <!-- Temel Bilgiler -->
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Temel Bilgiler</h3>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Hayvan Adƒ± *</label>
                            <input type="text" id="petName" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">T√ºr *</label>
                            <select id="petType" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                                <option value="">Se√ßiniz</option>
                                <option value="K√∂pek">K√∂pek</option>
                                <option value="Kedi">Kedi</option>
                                <option value="Ku≈ü">Ku≈ü</option>
                                <option value="Tav≈üan">Tav≈üan</option>
                                <option value="Hamster">Hamster</option>
                                <option value="Balƒ±k">Balƒ±k</option>
                                <option value="Diƒüer">Diƒüer</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Cinsi</label>
                            <input type="text" id="petBreed" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Golden Retriever, Tekir vb.">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Ya≈ü</label>
                            <input type="text" id="petAge" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="3 ya≈üƒ±nda, 6 aylƒ±k vb.">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Renk/Desen</label>
                            <input type="text" id="petColor" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Sarƒ±, Siyah-Beyaz vb.">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Cinsiyet</label>
                            <select id="petGender" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                                <option value="">Se√ßiniz</option>
                                <option value="Erkek">Erkek</option>
                                <option value="Di≈üi">Di≈üi</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Kilo</label>
                            <input type="text" id="petWeight" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="25 kg, 3.5 kg vb.">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Mikro√ßip No</label>
                            <input type="text" id="petMicrochip" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Kayƒ±t Tarihi</label>
                            <input type="date" id="petRegistrationDate" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                        </div>
                    </div>
                </div>

                <!-- Saƒülƒ±k Bilgileri -->
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Saƒülƒ±k Bilgileri</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">A≈üƒ± Durumu</label>
                            <textarea id="petVaccinations" rows="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Kuduz, karma a≈üƒ± tarihleri"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Saƒülƒ±k Sorunlarƒ±</label>
                            <textarea id="petHealthIssues" rows="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Kronik hastalƒ±k, alerji vb."></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Kullandƒ±ƒüƒ± ƒ∞la√ßlar</label>
                            <textarea id="petMedications" rows="2" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="D√ºzenli kullandƒ±ƒüƒ± ila√ßlar"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Veteriner Bilgileri</label>
                            <textarea id="petVet" rows="2" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Veteriner adƒ±, telefon, adres"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Davranƒ±≈ü ve Karakter -->
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Davranƒ±≈ü ve Karakter</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Karakter √ñzellikleri</label>
                            <textarea id="petPersonality" rows="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Oyuncu, sakin, √ßekingen vb."></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Sevdiƒüi ≈ûeyler</label>
                            <textarea id="petLikes" rows="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Oyuncak, yemek, aktivite tercihleri"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Korktuƒüu/Sevmediƒüi ≈ûeyler</label>
                            <textarea id="petDislikes" rows="2" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="G√ºr√ºlt√º, yabancƒ± vb."></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Eƒüitim Durumu</label>
                            <textarea id="petTraining" rows="2" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Tuvalet eƒüitimi, komutlar vb."></textarea>
                        </div>
                    </div>
                </div>



                <!-- Medya ve Linkler -->
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Medya ve Linkler</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Profil Fotoƒürafƒ± URL</label>
                            <input type="url" id="petPhoto" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="https://example.com/photo.jpg">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Video URL</label>
                            <input type="url" id="petVideo" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="YouTube, Vimeo vb.">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Instagram</label>
                            <input type="text" id="petInstagram" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="@kullaniciadi">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Facebook</label>
                            <input type="text" id="petFacebook" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">TikTok</label>
                            <input type="text" id="petTiktok" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="@kullaniciadi">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">YouTube Kanalƒ±</label>
                            <input type="text" id="petYoutube" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                        </div>
                    </div>
                </div>

                <!-- ƒ∞leti≈üim ve Konum -->
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">ƒ∞leti≈üim ve Konum Bilgileri</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Ev Adresi</label>
                            <textarea id="petAddress" rows="2" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Tam adres bilgisi"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Alternatif ƒ∞leti≈üim</label>
                            <input type="text" id="petAltContact" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Acil durum i√ßin alternatif telefon">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">E-posta</label>
                            <input type="email" id="petEmail" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2">Website/Blog</label>
                            <input type="url" id="petWebsite" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500">
                        </div>
                    </div>
                </div>

                <!-- Ek Bilgiler -->
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Ek Bilgiler</h3>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">√ñzel Notlar</label>
                        <textarea id="petNotes" rows="4" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Bulan ki≈üiye √∂zel mesaj vb."></textarea>
                    </div>
                </div>

                <div class="flex gap-4">
                    <button type="submit" class="flex-1 btn-primary text-white py-3 rounded-lg font-semibold">Kaydet ve NFC URL Olu≈ütur</button>
                    <button type="button" onclick="hideAddPet()" class="flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition">ƒ∞ptal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Pet Profile Page -->
    <div id="petProfile" class="hidden max-w-4xl mx-auto px-4 py-8">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <!-- Header with Photo -->
            <div class="bg-gradient-to-br from-blue-500 to-purple-600 text-white p-8 text-center">
                <div class="mb-6">
                    <img id="profilePhoto" src="" alt="Pet Photo" class="w-32 h-32 rounded-full mx-auto object-cover border-4 border-white shadow-lg hidden" onerror="this.style.display='none'; document.getElementById('profileEmoji').style.display='block';">
                    <div class="text-8xl mb-4" id="profileEmoji">üêï</div>
                </div>
                <h1 class="text-4xl font-bold mb-2" id="profileName">Pati</h1>
                <p class="text-xl opacity-90 mb-2" id="profileType">K√∂pek</p>
                <p class="text-lg opacity-80" id="profileBreedAge">Golden Retriever ‚Ä¢ 3 ya≈üƒ±nda</p>
            </div>

            <!-- Quick Action Buttons -->
            <div class="p-6">
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <button onclick="callOwner()" class="bg-red-500 hover:bg-red-600 text-white p-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 shadow-lg">
                        üìû Ara
                    </button>
                    <button onclick="sendWhatsApp()" class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 shadow-lg">
                        üí¨ WhatsApp
                    </button>
                    <button onclick="sendEmail()" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 shadow-lg">
                        ‚úâÔ∏è E-posta
                    </button>
                    <button onclick="openMaps()" class="bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 shadow-lg">
                        üìç Konum
                    </button>
                </div>

                <!-- Custom Action Buttons -->
                <div id="customButtons" class="grid grid-cols-2 gap-4 mb-6">
                    <!-- Custom buttons will be loaded here -->
                </div>

                <!-- Add Custom Button (only for owner) -->
                <div id="addCustomButtonSection" class="hidden mb-6">
                    <button onclick="showAddCustomButton()" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 p-3 rounded-xl font-medium transition border-2 border-dashed border-gray-400">
                        + √ñzel Buton Ekle
                    </button>
                </div>
            </div>

                <!-- Video Section -->
                <div id="videoSection" class="mb-6 hidden">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                        <span class="mr-2">üìπ</span> Video
                    </h3>
                    <div class="aspect-video bg-gray-100 rounded-xl overflow-hidden">
                        <iframe id="profileVideo" class="w-full h-full" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>

                <!-- Info Cards -->
                <div class="space-y-4 mb-6">
                    <!-- Basic Info -->
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <h3 class="text-lg font-semibold mb-3 text-gray-800 flex items-center">
                            <span class="mr-2">üêæ</span> Temel Bilgiler
                        </h3>
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div><span class="font-medium text-gray-600">Cinsi:</span> <span id="profileBreed">Golden Retriever</span></div>
                            <div><span class="font-medium text-gray-600">Ya≈ü:</span> <span id="profileAge">3 ya≈üƒ±nda</span></div>
                            <div><span class="font-medium text-gray-600">Renk:</span> <span id="profileColor">Sarƒ±</span></div>
                            <div><span class="font-medium text-gray-600">Cinsiyet:</span> <span id="profileGender">Erkek</span></div>
                            <div><span class="font-medium text-gray-600">Kilo:</span> <span id="profileWeight">25 kg</span></div>
                            <div><span class="font-medium text-gray-600">Mikro√ßip:</span> <span id="profileMicrochip">123456789</span></div>
                        </div>
                    </div>
                    
                    <!-- Health Info -->
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <h3 class="text-lg font-semibold mb-3 text-gray-800 flex items-center">
                            <span class="mr-2">üè•</span> Saƒülƒ±k Bilgileri
                        </h3>
                        <div class="space-y-2 text-sm">
                            <div>
                                <span class="font-medium text-gray-600">A≈üƒ± Durumu:</span>
                                <p class="text-gray-800 mt-1" id="profileVaccinations">T√ºm a≈üƒ±larƒ± tam</p>
                            </div>
                            <div>
                                <span class="font-medium text-gray-600">Saƒülƒ±k Sorunlarƒ±:</span>
                                <p class="text-gray-800 mt-1" id="profileHealthIssues">Yok</p>
                            </div>
                            <div>
                                <span class="font-medium text-gray-600">Veteriner:</span>
                                <p class="text-gray-800 mt-1" id="profileVet">Dr. Ahmet Yƒ±lmaz</p>
                            </div>
                        </div>
                    </div>

                    <!-- Character Info -->
                    <div class="bg-gray-50 p-4 rounded-xl">
                        <h3 class="text-lg font-semibold mb-3 text-gray-800 flex items-center">
                            <span class="mr-2">üéØ</span> Karakter √ñzellikleri
                        </h3>
                        <div class="space-y-2 text-sm">
                            <div>
                                <span class="font-medium text-gray-600">Ki≈üilik:</span>
                                <p class="text-gray-800 mt-1" id="profilePersonality">Oyuncu ve sevecen</p>
                            </div>
                            <div>
                                <span class="font-medium text-gray-600">Sevdiƒüi ≈ûeyler:</span>
                                <p class="text-gray-800 mt-1" id="profileLikes">Top oynamak</p>
                            </div>
                            <div>
                                <span class="font-medium text-gray-600">Eƒüitim:</span>
                                <p class="text-gray-800 mt-1" id="profileTraining">Temel komutlar</p>
                            </div>
                        </div>
                    </div>
                </div>





                <!-- Social Media -->
                <div id="socialMediaSection" class="mb-6">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                        <span class="mr-2">üì±</span> Sosyal Medya
                    </h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="openInstagram()" class="social-btn bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-xl hover:shadow-lg transition flex items-center justify-center font-medium">
                            üì∑ Instagram
                        </button>
                        <button onclick="openFacebook()" class="social-btn bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition flex items-center justify-center font-medium">
                            üìò Facebook
                        </button>
                        <button onclick="openTiktok()" class="social-btn bg-black text-white py-3 rounded-xl hover:bg-gray-800 transition flex items-center justify-center font-medium">
                            üéµ TikTok
                        </button>
                        <button onclick="openYoutube()" class="social-btn bg-red-600 text-white py-3 rounded-xl hover:bg-red-700 transition flex items-center justify-center font-medium">
                            üì∫ YouTube
                        </button>
                    </div>
                </div>

                <!-- Description -->
                <div class="bg-gray-50 p-4 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold mb-3 text-gray-800 flex items-center">
                        <span class="mr-2">üìù</span> Hakkƒ±nda
                    </h3>
                    <p class="text-gray-700 leading-relaxed" id="profileDescription">√áok sevimli ve oyuncu bir k√∂pek. ƒ∞nsanlarƒ± √ßok sever ve √ßocuklarla harika anla≈üƒ±r. Parkta ko≈ümayƒ± ve top oynamayƒ± √ßok seviyor.</p>
                </div>

                <!-- Address -->
                <div class="bg-gray-50 p-4 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold mb-3 text-gray-800 flex items-center">
                        <span class="mr-2">üìç</span> Adres Bilgileri
                    </h3>
                    <p class="text-gray-700 mb-3" id="profileAddress">Kadƒ±k√∂y Moda Mahallesi, ƒ∞stanbul</p>
                    <div class="space-y-2 text-sm">
                        <div><span class="font-medium text-gray-600">Alternatif Tel:</span> <span id="profileAltContact">+90 555 987 6543</span></div>
                        <div><span class="font-medium text-gray-600">E-posta:</span> <span id="profileEmail">sahip@email.com</span></div>
                    </div>
                </div>

                <!-- Special Notes -->
                <div class="bg-gradient-to-r from-yellow-100 to-orange-100 border-l-4 border-yellow-500 p-4 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold text-yellow-800 mb-2 flex items-center">
                        <span class="mr-2">‚≠ê</span> √ñzel Notlar
                    </h3>
                    <p class="text-yellow-700" id="profileNotes">Bu hayvanƒ± bulursanƒ±z l√ºtfen hemen arayƒ±n. √áok √∂zleniyor! Te≈üekk√ºrler.</p>
                </div>

                <!-- Found Message -->
                <div class="bg-green-100 border-l-4 border-green-500 p-4 rounded-xl">
                    <h3 class="text-lg font-semibold text-green-800 mb-2 flex items-center">
                        <span class="mr-2">üôè</span> Bu hayvanƒ± buldunuz mu?
                    </h3>
                    <p class="text-green-700 mb-3">L√ºtfen yukarƒ±daki butonlarƒ± kullanarak sahibiyle ileti≈üime ge√ßin. Ailesine kavu≈ümasƒ±na yardƒ±m edin!</p>
                    <div class="text-sm text-green-600 space-y-1">
                        <p>‚Ä¢ Hayvanƒ± g√ºvenli bir yerde tutun</p>
                        <p>‚Ä¢ Sahibiyle ileti≈üime ge√ßin</p>
                        <p>‚Ä¢ Veteriner kontrol√º gerekebilir</p>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <!-- Statistics Page -->
    <div id="statisticsPage" class="hidden max-w-6xl mx-auto px-4 py-8">
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800">ƒ∞statistikler</h1>
            <button onclick="showDashboard()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">‚Üê Geri D√∂n</button>
        </div>

        <div class="grid md:grid-cols-3 gap-6 mb-8">
            <div class="stat-card p-6 rounded-xl">
                <div class="text-3xl mb-2">üëÄ</div>
                <h3 class="text-2xl font-bold text-gray-800" id="totalViews">0</h3>
                <p class="text-gray-600">Toplam G√∂r√ºnt√ºleme</p>
            </div>
            <div class="stat-card p-6 rounded-xl">
                <div class="text-3xl mb-2">üìû</div>
                <h3 class="text-2xl font-bold text-gray-800" id="totalCalls">0</h3>
                <p class="text-gray-600">Arama Sayƒ±sƒ±</p>
            </div>
            <div class="stat-card p-6 rounded-xl">
                <div class="text-3xl mb-2">üìç</div>
                <h3 class="text-2xl font-bold text-gray-800" id="uniqueLocations">0</h3>
                <p class="text-gray-600">Farklƒ± Konum</p>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
            <h2 class="text-xl font-bold mb-4">Son Aktiviteler</h2>
            <div id="recentActivity" class="space-y-4">
                <!-- Activity items will be loaded here -->
            </div>
        </div>

        <!-- Location Map -->
        <div class="bg-white rounded-xl shadow-lg p-6">
            <h2 class="text-xl font-bold mb-4">Konum Haritasƒ±</h2>
            <div class="bg-gray-100 h-64 rounded-lg flex items-center justify-center">
                <div class="text-center">
                    <div class="location-dot text-4xl mb-2">üìç</div>
                    <p class="text-gray-600">Konum verileri burada g√∂sterilecek</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let pets = [];
        let currentPet = null;
        let customButtons = [];
        let statistics = {
            views: 0,
            calls: 0,
            locations: []
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Check if viewing a pet profile from URL
            const urlParams = new URLSearchParams(window.location.search);
            const petId = urlParams.get('pet');
            
            if (petId) {
                // Simulate loading pet profile
                loadPetProfile(petId);
                trackView();
            } else {
                // Show main page
                showMainContent();
            }
        });

        // Authentication functions
        function showLogin() {
            document.getElementById('loginModal').classList.remove('hidden');
            document.getElementById('loginModal').classList.add('flex');
        }

        function hideLogin() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('loginModal').classList.remove('flex');
        }

        function showRegister() {
            document.getElementById('registerModal').classList.remove('hidden');
            document.getElementById('registerModal').classList.add('flex');
        }

        function hideRegister() {
            document.getElementById('registerModal').classList.add('hidden');
            document.getElementById('registerModal').classList.remove('flex');
        }

        function login(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simulate login
            currentUser = {
                id: 1,
                name: 'Ahmet Yƒ±lmaz',
                email: email,
                phone: '+90 555 123 4567'
            };
            
            hideLogin();
            showDashboard();
            loadUserPets();
        }

        function register(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            
            // Simulate registration
            currentUser = {
                id: 1,
                name: name,
                email: email,
                phone: phone
            };
            
            hideRegister();
            showDashboard();
        }

        function logout() {
            currentUser = null;
            pets = [];
            showMainContent();
        }

        // Navigation functions
        function showMainContent() {
            document.getElementById('mainContent').classList.remove('hidden');
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('petProfile').classList.add('hidden');
            document.getElementById('statisticsPage').classList.add('hidden');
        }

        function showDashboard() {
            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('petProfile').classList.add('hidden');
            document.getElementById('statisticsPage').classList.add('hidden');
        }

        function showPetProfile() {
            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('petProfile').classList.remove('hidden');
            document.getElementById('statisticsPage').classList.add('hidden');
        }

        function showStatistics() {
            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('petProfile').classList.add('hidden');
            document.getElementById('statisticsPage').classList.remove('hidden');
            loadStatistics();
        }

        // Pet management functions
        function showAddPet() {
            document.getElementById('addPetModal').classList.remove('hidden');
            document.getElementById('addPetModal').classList.add('flex');
        }

        function hideAddPet() {
            document.getElementById('addPetModal').classList.add('hidden');
            document.getElementById('addPetModal').classList.remove('flex');
        }

        function addPet(event) {
            event.preventDefault();
            
            const pet = {
                id: Date.now(),
                name: document.getElementById('petName').value,
                type: document.getElementById('petType').value,
                breed: document.getElementById('petBreed').value,
                age: document.getElementById('petAge').value,
                color: document.getElementById('petColor').value,
                gender: document.getElementById('petGender').value,
                weight: document.getElementById('petWeight').value,
                microchip: document.getElementById('petMicrochip').value,
                registrationDate: document.getElementById('petRegistrationDate').value,

                vaccinations: document.getElementById('petVaccinations').value,
                healthIssues: document.getElementById('petHealthIssues').value,
                medications: document.getElementById('petMedications').value,
                vet: document.getElementById('petVet').value,
                personality: document.getElementById('petPersonality').value,
                likes: document.getElementById('petLikes').value,
                dislikes: document.getElementById('petDislikes').value,
                training: document.getElementById('petTraining').value,

                photo: document.getElementById('petPhoto').value,
                video: document.getElementById('petVideo').value,
                instagram: document.getElementById('petInstagram').value,
                facebook: document.getElementById('petFacebook').value,
                tiktok: document.getElementById('petTiktok').value,
                youtube: document.getElementById('petYoutube').value,
                address: document.getElementById('petAddress').value,
                altContact: document.getElementById('petAltContact').value,
                email: document.getElementById('petEmail').value,
                website: document.getElementById('petWebsite').value,
                notes: document.getElementById('petNotes').value,
                nfcUrl: `${window.location.origin}${window.location.pathname}?pet=${Date.now()}`,
                stats: {
                    views: 0,
                    calls: 0,
                    locations: []
                }
            };
            
            pets.push(pet);
            hideAddPet();
            loadUserPets();
            
            // Show success message
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50';
            successDiv.innerHTML = `
                <div class="flex items-center">
                    <span class="mr-2">‚úÖ</span>
                    <div>
                        <p class="font-semibold">${pet.name} ba≈üarƒ±yla eklendi!</p>
                        <p class="text-sm">NFC URL: ${pet.nfcUrl}</p>
                    </div>
                </div>
            `;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                document.body.removeChild(successDiv);
            }, 5000);
            
            // Clear form
            document.querySelector('#addPetModal form').reset();
        }

        function loadUserPets() {
            const petsList = document.getElementById('petsList');
            
            if (pets.length === 0) {
                petsList.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <div class="text-6xl mb-4">üêæ</div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">Hen√ºz hayvan eklemediniz</h3>
                        <p class="text-gray-500">ƒ∞lk hayvanƒ±nƒ±zƒ± eklemek i√ßin yukarƒ±daki butona tƒ±klayƒ±n</p>
                    </div>
                `;
                return;
            }
            
            petsList.innerHTML = pets.map(pet => `
                <div class="pet-card rounded-xl p-6">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">${getPetEmoji(pet.type)}</div>
                        <h3 class="text-xl font-bold text-gray-800">${pet.name}</h3>
                        <p class="text-gray-600">${pet.type} ‚Ä¢ ${pet.breed || 'Melez'}</p>
                    </div>
                    <div class="space-y-2 mb-4">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">G√∂r√ºnt√ºleme:</span>
                            <span class="font-semibold">${pet.stats.views}</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">Arama:</span>
                            <span class="font-semibold">${pet.stats.calls}</span>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <button onclick="viewPet(${pet.id})" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition">
                            Profili G√∂r√ºnt√ºle
                        </button>
                        <button onclick="showStatistics(${pet.id})" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition">
                            ƒ∞statistikler
                        </button>
                        <div class="text-xs text-gray-500 break-all">
                            NFC URL: ${pet.nfcUrl}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function viewPet(petId) {
            const pet = pets.find(p => p.id === petId);
            if (pet) {
                currentPet = pet;
                loadPetProfileData(pet);
                showPetProfile();
            }
        }

        function loadPetProfile(petId) {
            // Simulate loading pet from database
            const samplePet = {
                id: petId,
                name: 'Pati',
                type: 'K√∂pek',
                breed: 'Golden Retriever',
                age: '3',
                color: 'Sarƒ±',
                gender: 'Erkek',
                description: '√áok sevimli ve oyuncu bir k√∂pek. ƒ∞nsanlarƒ± √ßok sever ve √ßocuklarla harika anla≈üƒ±r.',
                health: 'T√ºm a≈üƒ±larƒ± tam. D√ºzenli veteriner kontrol√º yapƒ±lƒ±yor. Herhangi bir saƒülƒ±k sorunu yok.',
                address: 'Kadƒ±k√∂y Moda Mahallesi, ƒ∞stanbul',
                instagram: '@pati_golden',
                facebook: 'Pati Golden',
                customButtons: [
                    {
                        id: 1,
                        name: 'Veteriner',
                        icon: 'üè•',
                        type: 'phone',
                        value: '+90 212 555 0123',
                        color: 'green'
                    },
                    {
                        id: 2,
                        name: 'Pet Shop',
                        icon: 'üõçÔ∏è',
                        type: 'url',
                        value: 'https://petshop.com',
                        color: 'orange'
                    }
                ],
                owner: {
                    name: 'Ahmet Yƒ±lmaz',
                    phone: '+90 555 123 4567'
                }
            };
            
            currentPet = samplePet;
            loadPetProfileData(samplePet);
            showPetProfile();
        }

        function loadPetProfileData(pet) {
            // Basic info
            document.getElementById('profileEmoji').textContent = getPetEmoji(pet.type);
            document.getElementById('profileName').textContent = pet.name;
            document.getElementById('profileType').textContent = pet.type;
            document.getElementById('profileBreedAge').textContent = `${pet.breed || 'Melez'} ‚Ä¢ ${pet.age || 'Ya≈ü belirtilmemi≈ü'}`;
            
            // Photo
            if (pet.photo) {
                const photoImg = document.getElementById('profilePhoto');
                photoImg.src = pet.photo;
                photoImg.classList.remove('hidden');
                document.getElementById('profileEmoji').style.display = 'none';
            }
            
            // Video
            if (pet.video) {
                const videoSection = document.getElementById('videoSection');
                const videoFrame = document.getElementById('profileVideo');
                let videoUrl = pet.video;
                
                // Convert YouTube URLs to embed format
                if (videoUrl.includes('youtube.com/watch?v=')) {
                    const videoId = videoUrl.split('v=')[1].split('&')[0];
                    videoUrl = `https://www.youtube.com/embed/${videoId}`;
                } else if (videoUrl.includes('youtu.be/')) {
                    const videoId = videoUrl.split('youtu.be/')[1];
                    videoUrl = `https://www.youtube.com/embed/${videoId}`;
                }
                
                videoFrame.src = videoUrl;
                videoSection.classList.remove('hidden');
            }
            
            // Basic details
            document.getElementById('profileBreed').textContent = pet.breed || 'Belirtilmemi≈ü';
            document.getElementById('profileAge').textContent = pet.age || 'Belirtilmemi≈ü';
            document.getElementById('profileColor').textContent = pet.color || 'Belirtilmemi≈ü';
            document.getElementById('profileGender').textContent = pet.gender || 'Belirtilmemi≈ü';
            document.getElementById('profileWeight').textContent = pet.weight || 'Belirtilmemi≈ü';
            document.getElementById('profileMicrochip').textContent = pet.microchip || 'Yok';
            
            // Health info
            document.getElementById('profileVaccinations').textContent = pet.vaccinations || 'Bilgi yok';
            document.getElementById('profileHealthIssues').textContent = pet.healthIssues || 'Yok';
            document.getElementById('profileVet').textContent = pet.vet || 'Belirtilmemi≈ü';
            
            // Character
            document.getElementById('profilePersonality').textContent = pet.personality || 'Belirtilmemi≈ü';
            document.getElementById('profileLikes').textContent = pet.likes || 'Belirtilmemi≈ü';
            document.getElementById('profileTraining').textContent = pet.training || 'Belirtilmemi≈ü';
            
            // Contact and address
            document.getElementById('profileAddress').textContent = pet.address || 'Adres eklenmemi≈ü';
            document.getElementById('profileAltContact').textContent = pet.altContact || 'Yok';
            document.getElementById('profileEmail').textContent = pet.email || 'Belirtilmemi≈ü';
            
            // Description and notes
            document.getElementById('profileDescription').textContent = pet.description || 'A√ßƒ±klama eklenmemi≈ü';
            document.getElementById('profileNotes').textContent = pet.notes || '√ñzel not yok';
            
            // Load custom buttons
            loadCustomButtons(pet.customButtons || []);
            
            // Show add button section if user is owner
            if (currentUser && pet.ownerId === currentUser.id) {
                document.getElementById('addCustomButtonSection').classList.remove('hidden');
            }
        }

        // Custom button functions
        function showAddCustomButton() {
            document.getElementById('addCustomButtonModal').classList.remove('hidden');
            document.getElementById('addCustomButtonModal').classList.add('flex');
        }

        function hideAddCustomButton() {
            document.getElementById('addCustomButtonModal').classList.add('hidden');
            document.getElementById('addCustomButtonModal').classList.remove('flex');
            document.querySelector('#addCustomButtonModal form').reset();
        }

        function toggleCustomButtonFields() {
            const type = document.getElementById('customButtonType').value;
            const valueInput = document.getElementById('customButtonValue');
            const valueLabel = document.getElementById('customButtonValueLabel');
            
            switch(type) {
                case 'phone':
                    valueLabel.textContent = 'Telefon Numarasƒ±';
                    valueInput.placeholder = '+90 555 123 4567';
                    valueInput.type = 'tel';
                    break;
                case 'url':
                    valueLabel.textContent = 'Website URL';
                    valueInput.placeholder = 'https://example.com';
                    valueInput.type = 'url';
                    break;
                case 'email':
                    valueLabel.textContent = 'E-posta Adresi';
                    valueInput.placeholder = 'ornek@email.com';
                    valueInput.type = 'email';
                    break;
                case 'whatsapp':
                    valueLabel.textContent = 'WhatsApp Numarasƒ±';
                    valueInput.placeholder = '+90 555 123 4567';
                    valueInput.type = 'tel';
                    break;
                case 'address':
                    valueLabel.textContent = 'Adres';
                    valueInput.placeholder = 'Tam adres bilgisi';
                    valueInput.type = 'text';
                    break;
                default:
                    valueLabel.textContent = 'Deƒüer';
                    valueInput.placeholder = '';
                    valueInput.type = 'text';
            }
        }

        function addCustomButton(event) {
            event.preventDefault();
            
            const button = {
                id: Date.now(),
                name: document.getElementById('customButtonName').value,
                icon: document.getElementById('customButtonIcon').value || 'üîó',
                type: document.getElementById('customButtonType').value,
                value: document.getElementById('customButtonValue').value,
                color: document.getElementById('customButtonColor').value
            };
            
            if (!currentPet.customButtons) {
                currentPet.customButtons = [];
            }
            
            currentPet.customButtons.push(button);
            loadCustomButtons(currentPet.customButtons);
            hideAddCustomButton();
            
            // Show success message
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50';
            successDiv.innerHTML = `
                <div class="flex items-center">
                    <span class="mr-2">‚úÖ</span>
                    <span>√ñzel buton eklendi!</span>
                </div>
            `;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                document.body.removeChild(successDiv);
            }, 3000);
        }

        function loadCustomButtons(buttons) {
            const customButtonsContainer = document.getElementById('customButtons');
            
            if (!buttons || buttons.length === 0) {
                customButtonsContainer.innerHTML = '';
                return;
            }
            
            customButtonsContainer.innerHTML = buttons.map(button => {
                const colorClasses = {
                    blue: 'bg-blue-500 hover:bg-blue-600',
                    green: 'bg-green-500 hover:bg-green-600',
                    red: 'bg-red-500 hover:bg-red-600',
                    purple: 'bg-purple-500 hover:bg-purple-600',
                    orange: 'bg-orange-500 hover:bg-orange-600',
                    gray: 'bg-gray-500 hover:bg-gray-600'
                };
                
                return `
                    <button onclick="executeCustomButton('${button.type}', '${button.value}')" 
                            class="${colorClasses[button.color]} text-white p-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 shadow-lg">
                        ${button.icon} ${button.name}
                    </button>
                `;
            }).join('');
        }

        function executeCustomButton(type, value) {
            switch(type) {
                case 'phone':
                    window.open(`tel:${value}`, '_blank');
                    break;
                case 'url':
                    const url = value.startsWith('http') ? value : `https://${value}`;
                    window.open(url, '_blank', 'noopener,noreferrer');
                    break;
                case 'email':
                    window.open(`mailto:${value}`, '_blank');
                    break;
                case 'whatsapp':
                    const whatsappUrl = `https://wa.me/${value.replace(/\D/g, '')}`;
                    window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
                    break;
                case 'address':
                    const mapsUrl = `https://maps.google.com/?q=${encodeURIComponent(value)}`;
                    window.open(mapsUrl, '_blank', 'noopener,noreferrer');
                    break;
            }
        }

        function getPetEmoji(type) {
            const emojis = {
                'K√∂pek': 'üêï',
                'Kedi': 'üê±',
                'Ku≈ü': 'üê¶',
                'Diƒüer': 'üêæ'
            };
            return emojis[type] || 'üêæ';
        }

        // Pet profile interactions
        function callOwner() {
            if (currentPet && currentPet.owner) {
                // Track call
                trackCall();
                
                // Show confirmation
                const confirmDiv = document.createElement('div');
                confirmDiv.className = 'fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50';
                confirmDiv.innerHTML = `
                    <div class="flex items-center">
                        <span class="mr-2">üìû</span>
                        <span>Arama ba≈ülatƒ±lƒ±yor: ${currentPet.owner.phone}</span>
                    </div>
                `;
                document.body.appendChild(confirmDiv);
                
                setTimeout(() => {
                    document.body.removeChild(confirmDiv);
                }, 3000);
                
                // In a real app, this would initiate a phone call
                window.open(`tel:${currentPet.owner.phone}`, '_blank');
            }
        }

        function sendWhatsApp() {
            if (currentPet && currentPet.owner) {
                const message = `Merhaba, ${currentPet.name} isimli ${currentPet.type.toLowerCase()}unuzu buldum. ƒ∞leti≈üime ge√ßmek istiyorum.`;
                const whatsappUrl = `https://wa.me/${currentPet.owner.phone.replace(/\D/g, '')}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            }
        }

        function sendEmail() {
            if (currentPet && currentPet.email) {
                const subject = `${currentPet.name} Hakkƒ±nda`;
                const body = `Merhaba,\n\n${currentPet.name} isimli ${currentPet.type.toLowerCase()}unuz hakkƒ±nda ileti≈üime ge√ßmek istiyorum.\n\nTe≈üekk√ºrler.`;
                const emailUrl = `mailto:${currentPet.email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                window.open(emailUrl, '_blank', 'noopener,noreferrer');
            }
        }

        function openInstagram() {
            if (currentPet && currentPet.instagram) {
                const instagramUrl = `https://instagram.com/${currentPet.instagram.replace('@', '')}`;
                window.open(instagramUrl, '_blank', 'noopener,noreferrer');
            }
        }

        function openFacebook() {
            if (currentPet && currentPet.facebook) {
                const facebookUrl = `https://facebook.com/${currentPet.facebook}`;
                window.open(facebookUrl, '_blank', 'noopener,noreferrer');
            }
        }

        function openTiktok() {
            if (currentPet && currentPet.tiktok) {
                const tiktokUrl = `https://tiktok.com/@${currentPet.tiktok.replace('@', '')}`;
                window.open(tiktokUrl, '_blank', 'noopener,noreferrer');
            }
        }

        function openYoutube() {
            if (currentPet && currentPet.youtube) {
                const youtubeUrl = currentPet.youtube.startsWith('http') ? currentPet.youtube : `https://youtube.com/${currentPet.youtube}`;
                window.open(youtubeUrl, '_blank', 'noopener,noreferrer');
            }
        }

        function openWebsite() {
            if (currentPet && currentPet.website) {
                const websiteUrl = currentPet.website.startsWith('http') ? currentPet.website : `https://${currentPet.website}`;
                window.open(websiteUrl, '_blank', 'noopener,noreferrer');
            }
        }

        function openMaps() {
            if (currentPet && currentPet.address) {
                const mapsUrl = `https://maps.google.com/?q=${encodeURIComponent(currentPet.address)}`;
                window.open(mapsUrl, '_blank', 'noopener,noreferrer');
            }
        }

        // Statistics and tracking
        function trackView() {
            // Get user location
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const location = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude,
                        timestamp: new Date().toISOString()
                    };
                    
                    // In a real app, this would be sent to the server
                    statistics.views++;
                    statistics.locations.push(location);
                });
            } else {
                statistics.views++;
            }
        }

        function trackCall() {
            statistics.calls++;
            
            // Get user location for call tracking
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const location = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude,
                        timestamp: new Date().toISOString(),
                        action: 'call'
                    };
                    
                    statistics.locations.push(location);
                });
            }
        }

        function loadStatistics() {
            document.getElementById('totalViews').textContent = statistics.views;
            document.getElementById('totalCalls').textContent = statistics.calls;
            document.getElementById('uniqueLocations').textContent = statistics.locations.length;
            
            // Load recent activity
            const recentActivity = document.getElementById('recentActivity');
            const activities = [
                { type: 'view', time: '2 dakika √∂nce', location: 'Kadƒ±k√∂y, ƒ∞stanbul' },
                { type: 'call', time: '1 saat √∂nce', location: 'Be≈üikta≈ü, ƒ∞stanbul' },
                { type: 'view', time: '3 saat √∂nce', location: '≈ûi≈üli, ƒ∞stanbul' }
            ];
            
            recentActivity.innerHTML = activities.map(activity => `
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                    <div class="flex items-center">
                        <span class="text-2xl mr-3">${activity.type === 'call' ? 'üìû' : 'üëÄ'}</span>
                        <div>
                            <p class="font-medium">${activity.type === 'call' ? 'Arama yapƒ±ldƒ±' : 'Profil g√∂r√ºnt√ºlendi'}</p>
                            <p class="text-sm text-gray-500">${activity.location}</p>
                        </div>
                    </div>
                    <span class="text-sm text-gray-500">${activity.time}</span>
                </div>
            `).join('');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98e772c8f63c5117',t:'MTc2MDQ0ODgwNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
